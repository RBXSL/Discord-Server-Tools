import discord
from discord.ext import commands
import asyncio

# ---------- CONFIG ----------
TRIGGER = "webhook"                 # Command to start
WEBHOOK_NAME = "MyWebhook"          # Name of the webhook
WEBHOOK_COUNT = 5                    # How many webhooks to create
WEBHOOK_DELAY = 2                    # Delay between each creation (seconds)
GUILD_ID = 123456789012345678        # Your server ID
CHANNEL_ID = 987654321098765432      # The channel ID to create webhooks in
# ----------------------------

intents = discord.Intents.default()
intents.guilds = True
intents.message_content = True

bot = commands.Bot(command_prefix="", intents=intents)

@bot.event
async def on_ready():
    print(f"Logged in as {bot.user}")

async def create_webhooks(channel):
    for i in range(WEBHOOK_COUNT):
        try:
            webhook = await channel.create_webhook(name=f"{WEBHOOK_NAME}-{i+1}")
            print(f"Created webhook: {webhook.name}")
        except discord.Forbidden:
            print(f"No permission to create webhook in {channel.name}")
        except discord.HTTPException as e:
            print(f"Failed to create webhook: {e}")
        await asyncio.sleep(WEBHOOK_DELAY)

@bot.event
async def on_message(message):
    if message.author.bot:
        return

    if message.content.lower().strip() == TRIGGER.lower():
        guild = bot.get_guild(GUILD_ID)
        if not guild:
            print("Bot is not in the specified guild.")
            return

        channel = guild.get_channel(CHANNEL_ID)
        if not channel:
            print("Channel not found.")
            return

        await create_webhooks(channel)

bot.run("YOUR_BOT_TOKEN_HERE")
